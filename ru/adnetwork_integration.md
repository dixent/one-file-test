---
$title: Интеграция с AMP для показа медийной рекламы
$order: 5
description: Это руководство предназначено для рекламных сетей, которые хотят интегрироваться с AMP для показа рекламных объявлений на страницах AMP.
formats:
- Объявления
---

Это руководство предназначено для рекламных сетей, которые хотят интегрироваться с AMP для показа рекламных объявлений на страницах AMP.

## обзор

В качестве рекламного сервера вы можете интегрироваться с AMP для показа традиционных HTML-объявлений на страницы AMP, а также для показа объявлений AMPHTML.

##### Хотите показывать традиционные HTML-объявления?

1. [`amp-ad`](../../../documentation/components/reference/amp-ad.md)

##### Хотите показывать объявления AMPHTML?

1. amp-ad (то есть, если вы еще не создали его для показа традиционных HTML-объявлений).
2. Создать интеграцию Fast Fetch для показа рекламы AMPHTML.

## Создание amp-рекламы

Как рекламный сервер, поддерживаемые вами издатели включают в себя предоставленную вами библиотеку JavaScript и размещают различные «рекламные фрагменты», которые используют библиотеку JavaScript для извлечения рекламы и ее отображения на веб-сайте издателя. Поскольку AMP не позволяет издателям выполнять произвольный JavaScript, вам нужно будет внести свой вклад в открытый код AMP, чтобы тег amp-ad мог запрашивать рекламу с вашего рекламного сервера.

[tip type = "note"]
ПРИМЕЧАНИЕ. Эту реализацию amp-ad можно использовать для отображения традиционных объявлений HTML и AMPHTML.
[/совет]

Например, сервер Amazon A9 может быть вызван с использованием следующего синтаксиса:

```html
<amp-ad width="300" height="250"
    type="a9"
    data-aax_size="300x250"
    data-aax_pubname="test123"
    data-aax_src="302">
</amp-ad>
```

В приведенном выше коде атрибут type указывает рекламную сеть, которая в данном случае A9. Атрибуты data- * зависят от параметров, которые сервер Amazon A9 ожидает для показа рекламы. Файл a9.js показывает, как параметры сопоставляются с вызовом JavaScript URL-адреса сервера A9. Соответствующие параметры, переданные тегом amp-ad, добавляются к URL-адресу для возврата рекламы.

Инструкции по созданию интеграции amp-ad см. В разделе «Интеграция рекламных сетей в AMP».

## Создание интеграции Fast Fetch

Fast Fetch - это механизм AMP, который отделяет запрос объявления от ответа объявления, позволяя выполнять запросы объявления раньше в жизненном цикле страницы и отображать объявления только тогда, когда они могут быть просмотрены пользователями. Fast Fetch предоставляет привилегированный режим для проверенных объявлений AMPHTML по сравнению с традиционными HTML-объявлениями. В Fast Fetch, если объявление не проходит проверку, оно помещается в междоменный iframe, чтобы изолировать его от остальной части документа AMP. И наоборот, проверка прохождения объявления AMPHTML записывается непосредственно на страницу. Fast Fetch обрабатывает объявления AMP и не-AMP; Для объявлений, не прошедших валидацию, дополнительных запросов на рекламу не требуется.

{{image ('/ static / img / docs / ads / amphtml-ad-flow.svg', 843, 699, alt = 'Поток интеграции быстрой выборки', заголовок = 'Поток интеграции быстрой выборки')}}

Чтобы показывать объявления AMPHTML с вашего рекламного сервера, вы должны обеспечить интеграцию Fast Fetch, которая включает в себя:

1. Поддержка связи по сети SSL.
2. Предоставление JavaScript для создания запроса объявления (пример реализации: AdSense & DoubleClick).
3. Проверка и подписание объявления через службу проверки. Cloudflare предоставляет сервис проверки рекламы AMP, позволяющий любому независимому поставщику рекламы показывать более быструю, легкую и привлекательную рекламу.

Инструкции по созданию интеграции Fast Fetch см. В Руководстве по внедрению Fast Fetch Network.

## Связанные ресурсы

- [`amp-ad`](../../../documentation/components/reference/amp-ad.md)
- [Список поддерживаемых поставщиков рекламы](../../../documentation/guides-and-tutorials/develop/monetization/ads_vendors.md)
- [Запись в блоге, описывающая запуск Fast Fetch](https://blog.amp.dev/2017/08/21/even-faster-loading-ads-in-amp/)
