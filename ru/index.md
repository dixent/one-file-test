---
layout: Почта
title: Управление фокусом с помощью tabindex
authors:
- robdodson
date: '2018-11-18'
description: Нативные элементы HTML, такие как <button> или <input>, имеют встроенную
  доступность клавиатуры бесплатно. Если вы создаете пользовательские интерактивные
  компоненты, используйте tabindex, чтобы обеспечить их доступность с клавиатуры.
---

Нативные элементы HTML, такие как `<button>` или `<input>` имеют встроенную доступность клавиатуры бесплатно. Если вы создаете *пользовательские* интерактивные компоненты, используйте атрибут `tabindex` чтобы обеспечить их доступность с клавиатуры.

{% Aside%} Когда это возможно, используйте собственный HTML-элемент, а не создавайте свою собственную версию. `<button>` , например, очень прост в оформлении и уже имеет полную поддержку клавиатуры. Это избавит вас от необходимости управлять `tabindex` или добавлять семантику с ARIA. {% endAside%}

## Проверьте, доступны ли элементы управления с клавиатуры

Такой инструмент, как Lighthouse, отлично подходит для обнаружения определенных проблем с доступностью, но некоторые вещи могут быть проверены только человеком.

Попробуйте нажать клавишу `TAB` для навигации по вашему сайту. Вы можете получить доступ ко всем интерактивным элементам управления на странице? Если нет, вам может понадобиться использовать [`tabindex`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) для улучшения фокусировки этих элементов управления.

{% Aside 'warning'%} Если вы вообще не видите индикатор фокуса, он может быть скрыт вашим CSS. Проверьте наличие стилей, которые упоминают `:focus { outline: none; }` Вы можете узнать, как это исправить, в нашем руководстве по [стайлингу](/style-focus) . {% endAside%}

## Вставить элемент в порядок вкладок

Вставьте элемент в `tabindex="0"` порядок табуляции, используя `tabindex="0"` . Например:

```html
<div tabindex="0">Focus me with the TAB key</div>
```

Чтобы сфокусировать элемент, нажмите клавишу `TAB` или вызовите метод `focus()` элемента.

<div class="glitch-embed-wrap" style="height: 346px; width: 100%;">
  <iframe src="https://glitch.com/embed/#!/embed/tabindex-zero?path=index.html&previewSize=100&attributionHidden=true" alt="tabindex-zero on Glitch" style="height: 100%; width: 100%; border: 0;">
  </iframe>
</div>

## Удалить элемент из табуляции

Удалите элемент, используя `tabindex="-1"` . Например:

```html
<button tabindex="-1">Can't reach me with the TAB key!</button>
```

Это удаляет элемент из естественного порядка табуляции, но элемент все еще можно сфокусировать, вызвав его метод `focus()` .

<div class="glitch-embed-wrap" style="height: 346px; width: 100%;">
  <iframe src="https://glitch.com/embed/#!/embed/tabindex-negative-one?path=index.html&previewSize=100&attributionHidden=true" alt="tabindex-negative-one on Glitch" style="height: 100%; width: 100%; border: 0;">
  </iframe>
</div>

## Избегайте `tabindex > 0`

Любой `tabindex` больше 0 `tabindex` элемент в начало естественного порядка табуляции. Если имеется несколько элементов с `tabindex` больше 0, порядок табуляции начинается с наименьшего значения, большего нуля, и повышается.

Использование `tabindex` больше 0 считается **анти-модель** , потому что читатели экрана навигации страницу в DOM порядке, а не вкладка заказа. Если вам нужно, чтобы элемент появлялся раньше в порядке табуляции, он должен быть перемещен на более раннее место в DOM.

Lighthouse упрощает идентификацию элементов с помощью `tabindex` > 0. Запустите аудит доступности (Lighthouse> Options> Accessibility) и найдите результаты аудита «Нет элемента, значение [tabindex] которого больше 0».

## Создавайте доступные компоненты с помощью " `tabindex` "

Если вы создаете сложный компонент, вам может потребоваться добавить дополнительную поддержку клавиатуры вне фокуса. Рассмотрим родной элемент `select` . Он фокусируемый, и вы можете использовать клавиши со стрелками для предоставления дополнительной функциональности (выбираемые опции).

Для реализации аналогичной функциональности в ваших собственных компонентах используйте технику, известную как « `tabindex` ». Перемещение tabindex работает, устанавливая `tabindex` в -1 для всех детей, кроме активного в данный момент. Затем компонент использует прослушиватель событий клавиатуры, чтобы определить, какая клавиша нажата пользователем.

Когда это произойдет, то компонент множество ранее сосредоточен ребенок `tabindex` -1, устанавливает , чтобы быть-ориентированным ребенок `tabindex` 0, и вызывает `focus()` метод на нем.

**Перед**

```html/2-3
<div role="toolbar">   <button tabindex="-1">Undo</div>   <button tabindex="0">Redo</div>   <button tabindex="-1">Cut</div> </div>
```

**После**

```html/2-3
<div role="toolbar">   <button tabindex="-1">Undo</div>   <button tabindex="-1">Redo</div>   <button tabindex="0">Cut</div> </div>
```

<div class="glitch-embed-wrap" style="height: 346px; width: 100%;">
  <iframe src="https://glitch.com/embed/#!/embed/roving-tabindex?path=index.html&previewSize=100&attributionHidden=true" alt="tabindex-negative-one on Glitch" style="height: 100%; width: 100%; border: 0;">
  </iframe>
</div>

{% Aside%} Любопытно, для чего эти атрибуты `role=""` ? Они позволяют вам изменить семантику элемента, чтобы программа для чтения с экрана правильно его объявила. Вы можете узнать больше о них в нашем руководстве по [основам чтения с экрана](/semantics-and-screen-readers) . {% endAside%}

## Рецепты доступа с клавиатуры

Если вы не уверены, какой уровень поддержки клавиатуры может понадобиться вашим пользовательским компонентам, вы можете обратиться к [ARIA Authoring Practices 1.1](https://www.w3.org/TR/wai-aria-practices-1.1/) . В этом удобном руководстве перечислены общие шаблоны пользовательского интерфейса и указаны ключи, которые должны поддерживать ваши компоненты.
